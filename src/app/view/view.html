<h2 [innerText]="document.name"></h2>

<div class="document-controls">

    <button mat-button (click)="saveAnnotations()" title="Сохранить">Сохранить</button>
    <button mat-icon-button (click)="zoomIn()" title="Увеличить">
        <mat-icon>add</mat-icon>
    </button>
    <button mat-icon-button (click)="zoomOut()" title="Уменьшить">
        <mat-icon>remove</mat-icon>
    </button>
    <span class="zoom-level">{{ zoomLevel }}%</span>
</div>

<div class="document-container">
    <div class="image-container" #imageContainer (click)="startAddAnnotation($event)">
        <img *ngFor="let page of document.pages" [src]="'/assets/' + page.imageUrl" [alt]="'Page ' + page.number" [style.transform]="'scale(' + zoomScale + ')'">

        <!-- Аннотации -->
        <div *ngFor="let annotation of annotations; trackBy: trackByAnnotationId" class="annotation"
            [style.left.px]="annotation.position.x" [style.top.px]="annotation.position.y">
            <div class="annotation-text">{{ annotation.text }}</div>
            <button matMiniFab class="delete-btn" (click)="deleteAnnotation(annotation.id); $event.stopPropagation()">
                <mat-icon aria-hidden="false" aria-label="close" fontIcon="close"></mat-icon>
            </button>
        </div>

        <!-- Новая аннотация -->
        <div *ngIf="isAddingAnnotation" class="annotation-form"
            [style.left.px]="currentPosition.x" [style.top.px]="currentPosition.y">
            <input matInput appAutoFocus [(ngModel)]="newAnnotationText" maxlength="21" placeholder="Введите аннотацию" (keydown.enter)="addAnnotation()" />
        </div>
    </div>
</div>  
